<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="./css/jquery.mobile-1.4.5.min.css" />
	<link rel="stylesheet" href="./css/form.css" />
	<script src="./js/jquery.js"></script>
	<script src="./js/jquery.mobile-1.4.5.min.js"></script>
	<script src="./configs.js"></script>
	<script src="./js/db.js"></script>
	<script type="text/javascript" src="./js/tools.js"></script>
</head>
<body>
	<div id="form_parent">test</div>
	<script>
		getCaseLatestIndex().then(id=>{console.log(id);});
		
		console.log("generateForm");
		console.log(FormTemplate);
		var fieldset=$('<fieldset class="ui-grid-a"></fieldset>');
		var ba=$('<div class="ui-block-a"></div>');
		var bb=$('<div class="ui-block-b"></div>');
		var submit=$('<button type="submit" id="caseReg_but" class="ui-btn ui-corner-all ui-shadow ui-icon-check case-reg-but">提交</button>');
		var cancel=$('<a id="caseReg_but_cancel" href="#" class="ui-btn ui-corner-all ui-shadow ui-btn-b ui-icon-back case-reg-but">取消</a>');
		ba.append(submit);
		bb.append(cancel);
		fieldset.append(ba);
		
		fieldset.append(bb);
		var form=generateForm(FormTemplate,fieldset);
		//form.append();
		
		$('#form_parent').children().remove();
		
		$('#form_parent').append(form);
		$('#form_parent').trigger( "create" );
		collectFormValues(FormTemplate,1,function(hasError,values){
			console.log("hasError...."+hasError)
			
			console.log(values)
		});
	</script>
</body>
</html>