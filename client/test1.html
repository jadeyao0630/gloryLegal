
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">

         
         <link rel="stylesheet" href="./css/jquery.mobile-1.4.5.min.css" />
         <script src="./js/jquery.js"></script>
         <script src="./js/jquery.mobile-1.4.5.min.js"></script>
         <script src="./configs.js"></script>
    <script type="text/javascript" src="./js/tools.js"></script>
    <script type="text/javascript" src="./fakeData.js"></script>
	<script type="text/javascript" src="./resourceData.js"></script>
	<script type="text/javascript" src="./js/db.js"></script>
	
         <style>
            .pag{
                text-align: center;
            }
            .btn-light{
                color: white;
                
            }
            .btn-light:active{
                background-color: bisque;
                color: white;
            }
         </style>
    </head>
    <body>
        <div class="header-filter-container-div"><form onsubmit="javascript:return false;"><div class="form_grid" style="grid-template-columns: 25% 25% 25% 25%; padding-right: 60px; row-gap: 5px;"><div class="form_item_panel"><label for="caseLabel">案件标签:</label><div class="form-original select-overflow"><select name="caseLabel[]" id="caseLabel" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">普通案件</option><option value="1">重大案件300万以上</option><option value="2">重大案件1000万以上</option><option value="3">重大案件 群诉</option></select></div><label class="form-replacement" id="_caseLabel" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseProject">所属项目:</label><div class="form-original select-overflow"><select name="caseProject[]" id="caseProject" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">北七家</option><option value="1">大兴</option></select></div><label class="form-replacement" id="_caseProject" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseCause">案由:</label><div class="form-original select-overflow"><select name="caseCause[]" id="caseCause" class="form-original multiSelect filterSelect" multiple="multiple" data-native-menu="false"><option value="0">购房合同纠纷</option><option value="1">建设工程纠纷</option><option value="2">佣金类纠纷</option><option value="3">断供担保纠纷</option><option value="4">断供担保纠纷</option><option value="5">断供追偿纠纷</option><option value="6">劳动争议纠纷</option><option value="7">金融借款纠纷</option><option value="8">行政诉讼</option><option value="9">民间借贷纠纷</option><option value="10">房屋租赁合同纠纷</option><option value="11">拆迁安置纠纷</option><option value="12">服务合同纠纷</option><option value="13">物业服务合同纠纷</option><option value="14">车位使用权转让纠纷</option><option value="15">股权转让纠纷</option><option value="16">侵权纠纷</option><option value="17">建筑物区分所有权</option><option value="18">案外人执行异议之诉</option><option value="19">票据追索权纠纷</option></select></div><label class="form-replacement" id="_caseCause" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseReason">案发原因:</label><div class="form-original select-overflow"><select name="caseReason[]" id="caseReason" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">逾期交付</option><option value="1">逾期办证</option><option value="2">捆绑销售</option><option value="3">逾期付款</option><option value="4">断供担保</option><option value="5">断供追偿</option><option value="6">执行异议</option></select></div><label class="form-replacement" id="_caseReason" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="casePersonnel">我方当事人:</label><div class="form-original select-overflow"><select name="casePersonnel[]" id="casePersonnel" class="form-original multiSelect filterSelect" multiple="multiple" data-native-menu="false"><optgroup label="公司"><option value="公司0">国瑞兴业建筑工程设计有限公司</option><option value="公司1">国瑞德恒房地产开发有限公司</option><option value="公司2">国瑞兴业地产股份有限公司</option><option value="公司3">益万家文化传播有限公司</option><option value="公司4">国瑞兴业健康科技有限公司</option><option value="公司5">大兴区保障性住房建设投资有限公司</option><option value="公司6">浩业环宇装饰工程有限公司</option><option value="公司7">文华盛达房地产开发有限公司</option></optgroup><optgroup label="个人"><option value="个人0">张丽佳</option><option value="个人1">李立</option><option value="个人2">郑智</option></optgroup></select></div><label class="form-replacement" id="_casePersonnel" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="legalAgencies">代理法务:</label><div class="form-original select-overflow"><select name="legalAgencies[]" id="legalAgencies" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">无</option><option value="1">贺璐璐</option><option value="2">李俊峰</option><option value="3">王培斯</option></select></div><label class="form-replacement" id="_legalAgencies" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseType">案件类型:</label><div class="form-original select-overflow"><select name="caseType[]" id="caseType" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">被诉</option><option value="1">主诉</option></select></div><label class="form-replacement" id="_caseType" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseStatus">状态:</label><div class="form-original select-overflow"><select name="caseStatus[]" id="caseStatus" class="form-original multiSelect" multiple="multiple" data-native-menu="false"><option value="0">一审</option><option value="1">二审</option><option value="2">强制执行</option><option value="3">结案</option><option value="4">再审</option><option value="5">监督</option><option value="2.1">正常执行</option><option value="2.2">无需执行</option></select></div><label class="form-replacement" id="_caseStatus" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="penalty_0" style="text-align: right; padding-right: 15px; min-width: 100px;">判决金额(万):</label><div class="form-original" style="display:grid;grid-template-columns: 1fr auto 1fr;grid-gap:0px;"><input type="text" class="form-original" name="penalty_1" id="penalty_0" placeholder="" "="" value=""><label style="text-align: center;min-width:50px;"> 到 </label><input type="text" class="form-original" name="penalty_1" id="penalty_1" placeholder="" "="" value=""></div><label class="form-replacement" id="_penalty" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel"><label for="caseDate_0" style="text-align: right; padding-right: 15px; min-width: 100px;">立案日期:</label><div class="form-original" style="display:grid;grid-template-columns: 1fr auto 1fr;grid-gap:0px;"><input type="date" class="form-original" name="caseDate_1" id="caseDate_0" placeholder="" "="" value=""><label style="text-align: center;min-width:50px;"> 到 </label><input type="date" class="form-original" name="caseDate_1" id="caseDate_1" placeholder="" "="" value=""></div><label class="form-replacement" id="_caseDate" style="min-height: 25px; display: none;">test</label></div><div class="form_item_panel" style="grid-template-columns: auto; grid-column: 4 / 4;"><div data-role="controlgroup" data-type="horizontal" style="text-align:right;" data-mini="true"><a href="#" class="ui-btn ui-corner-all ui-shadow ui-icon-search btn-icon-green ui-btn-icon-left header-filter-btn">查询</a><button class="ui-btn ui-corner-all ui-shadow ui-icon-delete btn-icon-red ui-btn-icon-left header-filter-btn">复位</button></div><label class="form-replacement" id="_cutom" style="min-height: 25px; display: none;">test</label></div></div></form></div>
        <form>
            <input id="filterTable-input" data-type="text">
        </form>
        <table data-role="table" id="movie-table" data-filter="true" data-input="#filterTable-input" class="ui-responsive">
            <thead>
                <tr>
                    <th data-priority="1">Rank</th>
                    <th data-priority="persist">Movie Title</th>
                    <th data-priority="2">Year</th>
                    <th data-priority="3"><abbr title="Rotten Tomato Rating">Rating</abbr></th>
                    <th data-priority="4">Reviews</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>1</th>
                        <td><a href="https://en.wikipedia.org/wiki/Citizen_Kane" data-rel="external">Citizen Kane</a></td>
                        <td>1941</td>
                        <td>100%</td>
                        <td>74</td>
                    </tr>
                    <tr>
                        <th>2</th>
                        <td><a href="https://en.wikipedia.org/wiki/Casablanca_(film)" data-rel="external">Casablanca</a></td>
                        <td>1942</td>
                        <td>97%</td>
                        <td>64</td>
                    </tr>
                    <tr>
                        <th>3</th>
                        <td><a href="https://en.wikipedia.org/wiki/The_Godfather" data-rel="external">The Godfather</a></td>
                        <td>1972</td>
                        <td>97%</td>
                        <td>87</td>
                    </tr>
                </tbody>
            </table>
        <script  src="./js/jquery.min.js"></script>
	<script src="./js/jquery.mobile-1.4.5.min.js"></script>
        <script src="./js/fancyTable.js"></script>
        </script>
        <script type="text/javascript">
             function setTable(elm,searchField,instance){
                console.log(this);
                settings = {
                    inputStyle: "",
                    inputPlaceholder: "Search...",
                    pagination: false,
                    paginationClass: "btn btn-light",
                    paginationClassActive: "active",
                    pagClosest: 3,
                    perPage: 1,
                    sortable: true,
                    searchable: true,
                    matchCase: false,
                    exactMatch: false,
                   globalSearch:true,
                    localeCompare: false,}
                elm.fancyTable = {
                    nColumns: $(elm).find("td").first().parent().find("td").length,
                    nRows : $(this).find("tbody tr").length,
                    perPage : settings.perPage,
                    page : 1,
                    pages : 0,
                    matches : 0,
                    searchArr : [],
                    search : "",
                    sortColumn : settings.sortColumn,
                    sortOrder : (typeof settings.sortOrder === "undefined") ? 1 : (new RegExp("desc","i").test(settings.sortOrder) || settings.sortOrder == -1) ? -1 : 1,
                    sortAs:[], // undefined, numeric, datetime, case-insensitive, or custom
                    paginationElement : settings.paginationElement
                };
                elm.fancyTable.rowSortOrder = new Array(elm.fancyTable.nRows);
                if($(elm).find("tbody").length==0){
                    var content = $(elm).html();
                    $(elm).empty();
                    $(elm).append("<tbody>").append($(content));
                }
                if($(elm).find("thead").length==0){
                    $(elm).prepend($("<thead>"));
                    // Maybe add generated headers at some point
                    //var c=$(elm).find("tr").first().find("td").length;
                    //for(var n=0; n<c; n++){
                    //	$(elm).find("thead").append($("<th></th>"));
                    //}
                }
                $(elm).find("tbody tr").each(function(index) {
                    // $(this).attr("data-rowid", index);
                    $(this).data("rowid", index);
                });
                if(settings.sortable){
                    var nAElm=0;
                    $(elm).find("thead th").each(function() {
                        elm.fancyTable.sortAs.push($(this).data('sortas'));
                        var content = $(this).html();
                        var a = $("<a>",{
                            href: "#",
                            "aria-label": "Sort by " + $(this).text(),
                            html:content,
                            "data-n": nAElm,
                            class:""
                        }).css({"cursor":"pointer","color":"inherit","text-decoration":"none","white-space":"nowrap"}).bind("click",function(){
                            if(elm.fancyTable.sortColumn == $(this).data("n")){
                                elm.fancyTable.sortOrder=-elm.fancyTable.sortOrder;
                            } else {
                                elm.fancyTable.sortOrder=1;
                            }
                            elm.fancyTable.sortColumn = $(this).data("n");
                            instance.tableSort(elm);
                            instance.tableUpdate(elm);
                            return false;
                        });
                        $(this).empty();
                        $(this).append(a);
                        nAElm++;
                    });
                }
                if(settings.searchable){
                    var searchHeader = $("<tr>");
                    if(settings.globalSearch){
                        searchField.bind("change paste keyup",function(){
                            elm.fancyTable.search = $(this).val();
                            elm.fancyTable.page = 1;
                            console.log(elm.fancyTable);
                            instance.tableUpdate(elm);
                        });
                        var th = $("<th>",{ style:"padding:2px;" }).attr("colspan",elm.fancyTable.nColumns);
                        //$(searchField).appendTo($(th));
                        //$(th).appendTo($(searchHeader));
                    } 
                    //searchHeader.appendTo($(elm).find("thead"));
                    //$(elm).find("thead").prepend(searchHeader);
                }
                // Sort
                instance.tableSort(elm);
                if(settings.pagination && !settings.paginationElement){
                    $(elm).find("tfoot").remove();
                    $(elm).append($("<div class=\"paging\"></div>"));
                    $(elm).find(".paging").append($("<div class='pag'></div>",{ }));
                }
                instance.tableUpdate(elm);
                //settings.onInit.call(this,elm);
                $(elm).trigger('create');
             }
            $(document).ready(function() {
                //$("#movie-table").jqmData('searchId','filterTable-input');
                var instance=$("#movie-table").fancyTable({
                  /* Column number for initial sorting*/
                   sortColumn:6,
                   /* Setting pagination or enabling */
                   pagination: true,
                   /* Rows per page kept for display */
                   perPage:1,
                   globalSearch:true
                   });


                   //setTable($("#movie-table"),$('#filterTable-input'),instance);
                   
                             
            });
            getBasic(basicTableList,[]).then(d=>console.log(d.data.attorneys));
        </script>
    </body>
</html>
